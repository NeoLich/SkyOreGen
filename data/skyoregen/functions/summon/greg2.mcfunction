execute if entity @e[type=minecraft:villager , name=Greg, tag=greg2] run tellraw @a ["",{"text":"["},{"text":"Sky","color":"aqua"},{"text":"Ore","color":"green"},{"text":"Gen","color":"gold"},{"text":"] Greg already exists please kill the current Greg before summoning a new one."}]
execute at @p unless entity @e[type=minecraft:villager , name=Greg, tag=greg2] run summon villager ~ ~ ~ {Tags:["greg2"],VillagerData:{profession:weaponsmith,level:5,type:taiga},Invulnerable:1,PersistenceRequired:1,Silent:1,NoAI:1,CustomName:"\"Greg\"",Offers:{Recipes:[{buy:{id:cobblestone,Count:64},sell:{id:item_frame,Count:1,tag:{display:{Name:'{"text":"Cobblestone Generator Frame","color":"light_purple"}',Lore:['{"text":"Detects cobblestone generators within 4 blocks","color":"white"}']},EntityTag:{Tags:["c_generator_frame"]}}},rewardExp:0b,maxUses:9999999},{buy:{id:cobblestone,Count:64},sell:{id:cobblestone,Count:1,tag:{display:{Name:'{"text":"Cobblestone Generator","color":"gray"}',Lore:['{"text":"Cobblestone 99.5% DripStone Block 0.5%","color":"white"}']},cob_generator:1b}},rewardExp:0b,maxUses:9999999},{buy:{id:cobblestone,Count:64},buyB:{id:cobblestone,Count:64},sell:{id:iron_ingot,Count:1,tag:{display:{Name:'{"text":"Iron 1 Generator","color":"white"}',Lore:['{"text":"Cobblestone 80% Iron 10% Coal 7% Copper 3%","color":"white"}']},iron1_generator:1b}},rewardExp:0b,maxUses:9999999},{buy:{id:iron_block,Count:32},sell:{id:iron_block,Count:1,tag:{display:{Name:'{"text":"Iron 2 Generator","color":"white"}',Lore:['{"text":"Cobblestone 75% Iron 25%","color":"white"}']},iron2_generator:1b}},rewardExp:0b,maxUses:9999999},{buy:{id:copper_block,Count:32},sell:{id:copper_block,Count:1,tag:{display:{Name:'{"text":"Copper Generator","color":"green"}',Lore:['{"text":"Cobblestone 75% Copper 25%","color":"white"}']},copper_generator:1b}},rewardExp:0b,maxUses:9999999},{buy:{id:coal_block,Count:32},sell:{id:coal_block,Count:1,tag:{display:{Name:'{"text":"Coal Generator","color":"dark_gray"}',Lore:['{"text":"Cobblestone 75% Coal 25%","color":"white"}']},coal_generator:1b}},rewardExp:0b,maxUses:9999999},{buy:{id:iron_block,Count:64},buyB:{id:iron_ingot,Count:64},sell:{id:gold_ingot,Count:1,tag:{display:{Name:'{"text":"Gold 1 Generator","color":"gold"}',Lore:['{"text":"Cobblestone 80% Iron 10% Copper 3%","color":"white"}','{"text":"Gold 7%","color":"white"}']},gold1_generator:1b}},rewardExp:0b,maxUses:9999999},{buy:{id:gold_block,Count:32},sell:{id:gold_block,Count:1,tag:{display:{Name:'{"text":"Gold 2 Generator","color":"gold"}',Lore:['{"text":"Cobblestone 75% Gold 25%","color":"white"}']},gold2_generator:1b}},rewardExp:0b,maxUses:9999999},{buy:{id:gold_block,Count:64},buyB:{id:gold_ingot,Count:64},sell:{id:redstone,Count:1,tag:{display:{Name:'{"text":"Redstone 1 Generator","color":"red"}',Lore:['{"text":"Cobblestone 70% Iron 10% Copper 3%","color":"white"}','{"text":"Gold 7% Redstone 5% Lapis 5%","color":"white"}']},redstone1_generator:1b}},rewardExp:0b,maxUses:9999999},{buy:{id:redstone_block,Count:64},sell:{id:redstone_block,Count:1,tag:{display:{Name:'{"text":"Redstone 2 Generator","color":"red"}',Lore:['{"text":"Cooblestone 75% Redstone 25%","color":"white"}']},redstone2_generator:1b}},rewardExp:0b,maxUses:9999999},{buy:{id:lapis_block,Count:64},sell:{id:lapis_block,Count:1,tag:{display:{Name:'{"text":"Lapis Generator","color":"blue"}',Lore:['{"text":"Cobblestone 75% Lapis 25%","color":"white"}']},lapis_generator:1b}},rewardExp:0b,maxUses:9999999},{buy:{id:redstone_block,Count:64},buyB:{id:redstone_block,Count:64},sell:{id:diamond,Count:1,tag:{display:{Name:'{"text":"Diamond 1 Generator","color":"aqua"}',Lore:['{"text":"Cobblestone 68% Iron 10% Copper 3%","color":"white"}','{"text":"Gold 7% Redstone 5% Lapis 5% Diamond 2%","color":"white"}']},diamond1_generator:1b}},rewardExp:0b,maxUses:9999999},{buy:{id:diamond,Count:64},sell:{id:diamond_block,Count:1,tag:{display:{Name:'{"text":"Diamond 2 Generator","color":"aqua"}',Lore:['{"text":"Cooblestone 90% Diamond 10%","color":"white"}']},diamond2_generator:1b}},rewardExp:0b,maxUses:9999999},{buy:{id:diamond_block,Count:10},sell:{id:stone,Count:1,tag:{display:{Name:'{"text":"Stone Generator","color":"dark_gray"}',Lore:['{"text":"Stone 100%","color":"white"}']},stone_generator:1b}},rewardExp:0b,maxUses:9999999}]}}

execute as @e[type=minecraft:villager, name=Greg, tag=greg2] at @s run forceload add ~ ~ ~ ~

scoreboard players set @a sky_greg 0

function skyoregen:settings/feedback
